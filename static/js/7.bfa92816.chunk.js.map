{"version":3,"sources":["components/news/News.js"],"names":["parser","require","News","props","componentDidMount","RSS_FEED","a","parseURL","state","url","feed","setState","items","handleKey","e","keyCode","which","value","handleChange","target","this","NewsContainer","styled","div","NewsItem","Link","ImageContainer","Image","img","Heading","h3","NewsItemText","Paragraph","p","type","onKeyUp","onChange","map","item","i","href","link","key","string","m","str","rex","exec","push","src","getImage","content","title","contentSnippet","React","Component"],"mappings":"4kDAGA,IACIA,EAAS,IADAC,EAAQ,MAGfC,E,kDACL,WAAYC,GAAQ,IAAD,8BAClB,cAAMA,IAQPC,kBAAoB,WACjB,EAAKC,YAVW,EAanBA,SAbmB,sBAaR,4BAAAC,EAAA,4DACS,uCADT,SAGON,EAAOO,SAFL,uCAE2B,EAAKC,MAAMC,KAH/C,OAGNC,EAHM,OAKV,EAAKC,SAAS,CACbC,MAAOF,EAAKE,QANH,2CAbQ,EAuBnBC,UAAY,SAACC,GAEI,MADAA,EAAEC,SAAWD,EAAEE,QAE9B,EAAKL,UACJ,kBAAgB,CACVC,MAAO,GACZH,IAFD,EAAGQ,UAIH,WACM,EAAKZ,eAhCK,EAsCnBa,aAAe,SAACJ,GACf,EAAKH,SAAS,CAAEM,MAAOH,EAAEK,OAAOF,SArChC,EAAKT,MAAQ,CACZI,MAAO,GACPH,IAAK,uCACLQ,MAAO,IALU,E,qDA0CT,IACDL,EAAUQ,KAAKZ,MAAfI,MAEFS,EAAgBC,IAAOC,IAAV,KAMbC,EAAWF,IAAOC,IAAV,KAORE,EAAOH,IAAOhB,EAAV,KAIJoB,EAAiBJ,IAAOC,IAAV,KAMdI,EAAQL,IAAOM,IAAV,KASLC,EAAUP,IAAOQ,GAAV,KAOPC,EAAeT,IAAOC,IAAV,KAMZS,EAAYV,IAAOW,EAAV,KA2Bf,OACC,6BACC,2BACCC,KAAK,OACLjB,MAAOG,KAAKZ,MAAMS,MAClBkB,QAASf,KAAKP,UACduB,SAAUhB,KAAKF,eAEhB,kBAACG,EAAD,KACET,IAAU,GACVA,EAAMyB,KAAI,SAACC,EAAMC,GAAP,OACT,kBAACd,EAAD,CAAMe,KAAMF,EAAKG,KAAMC,IAAKJ,EAAOC,GAClC,kBAACf,EAAD,KA/BY,SAACmB,GAMlB,IALA,IAAIC,EAAI,GACPnC,EAAM,GACNoC,EAAMF,EACNG,EAAM,oCAECF,EAAIE,EAAIC,KAAKF,IAChB,OACEpC,EAAIuC,KAAKJ,EAAE,IAIlB,OAAOnC,IAAQ,GACd,kBAACiB,EAAD,KACC,kBAACC,EAAD,CAAOsB,IAAKxC,KAEV,KAgBGyC,CAASZ,EAAKa,SACf,kBAACpB,EAAD,KACC,kBAACF,EAAD,KAAUS,EAAKc,OACf,kBAACpB,EAAD,KAAYM,EAAKe,sBAMrB,gD,GA5IaC,IAAMC,WAoJVrD","file":"static/js/7.bfa92816.chunk.js","sourcesContent":["import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nlet Parser = require(\"rss-parser\");\r\nlet parser = new Parser();\r\n\r\nclass News extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\titems: [],\r\n\t\t\turl: \"http://feeds.bbci.co.uk/news/rss.xml\",\r\n\t\t\tvalue: \"\",\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount = () => {\r\n    this.RSS_FEED();\r\n\t};\r\n\r\n\tRSS_FEED = async () => {\r\n\t\tconst CORS_PROXY = \"https://cors-anywhere.herokuapp.com/\";\r\n\r\n\t\tlet feed = await parser.parseURL(CORS_PROXY + this.state.url);\r\n\r\n\t\tthis.setState({\r\n\t\t\titems: feed.items,\r\n\t\t});\r\n\t};\r\n\r\n\thandleKey = (e) => {\r\n\t\tconst keyCode = e.keyCode || e.which;\r\n\t\tif (keyCode === 13) {\r\n\t\t\tthis.setState(\r\n\t\t\t\t({ value }) => ({\r\n          items: [],\r\n\t\t\t\t\turl: value,\r\n\t\t\t\t}),\r\n\t\t\t\t() => {\r\n          this.RSS_FEED();\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\thandleChange = (e) => {\r\n\t\tthis.setState({ value: e.target.value });\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { items } = this.state;\r\n\r\n\t\tconst NewsContainer = styled.div`\r\n\t\t\toverflow-y: auto;\r\n\t\t\toverflow-x: hidden;\r\n\t\t\theight: 100%;\r\n\t\t`;\r\n\r\n\t\tconst NewsItem = styled.div`\r\n\t\t\tposition: relative;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-flow: row nowrap;\r\n\t\t\tmargin: 10px 0;\r\n\t\t`;\r\n\r\n\t\tconst Link = styled.a`\r\n\t\t\theight: 100%;\r\n\t\t`;\r\n\r\n\t\tconst ImageContainer = styled.div`\r\n\t\t\theight: auto;\r\n\t\t\twidth: 20%;\r\n\t\t\tposition: relative;\r\n\t\t`;\r\n\r\n\t\tconst Image = styled.img`\r\n\t\t\tposition: absolute;\r\n\t\t\theight: 100%;\r\n\t\t\tobject-fit: cover;\r\n\t\t\twidth: 100%;\r\n\t\t\ttop: 0;\r\n\t\t\tleft: 0%;\r\n\t\t`;\r\n\r\n\t\tconst Heading = styled.h3`\r\n\t\t\tfont-size: 1rem;\r\n\t\t\tfont-weight: bold;\r\n\t\t\tmax-height: 35px;\r\n\t\t\tmargin-bottom: 3px;\r\n\t\t`;\r\n\r\n\t\tconst NewsItemText = styled.div`\r\n\t\t\tposition: relative;\r\n\t\t\tpadding: 10px;\r\n\t\t\twidth: 80%;\r\n\t\t`;\r\n\r\n\t\tconst Paragraph = styled.p`\r\n\t\t\tfont-size: 0.8rem;\r\n\t\t\toverflow: hidden;\r\n\t\t\tdisplay: -webkit-box;\r\n\t\t\t-webkit-line-clamp: 2;\r\n\t\t\t-webkit-box-orient: vertical;\r\n\t\t`;\r\n\r\n\t  const\tgetImage = (string) => {\r\n\t\t\tvar m = \"\",\r\n\t\t\t\turl = [],\r\n\t\t\t\tstr = string,\r\n\t\t\t\trex = /<img[^>]+src=\"?([^\"\\s]+)\"?\\s*\\/>/g;\r\n\r\n\t\t\twhile ((m = rex.exec(str))) {\r\n        return (\r\n          url.push(m[1])\r\n        ) \r\n\t\t\t}\r\n\r\n\t\t\treturn url !== [] ? (\r\n\t\t\t\t<ImageContainer>\r\n\t\t\t\t\t<Image src={url} />\r\n\t\t\t\t</ImageContainer>\r\n\t\t\t) : null;\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tvalue={this.state.value}\r\n\t\t\t\t\tonKeyUp={this.handleKey}\r\n\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t/>\r\n\t\t\t\t<NewsContainer>\r\n\t\t\t\t\t{items !== [] ? (\r\n\t\t\t\t\t\titems.map((item, i) => (\r\n\t\t\t\t\t\t\t<Link href={item.link} key={item + i}>\r\n\t\t\t\t\t\t\t\t<NewsItem>\r\n\t\t\t\t\t\t\t\t\t{getImage(item.content)}\r\n\t\t\t\t\t\t\t\t\t<NewsItemText>\r\n\t\t\t\t\t\t\t\t\t\t<Heading>{item.title}</Heading>\r\n\t\t\t\t\t\t\t\t\t\t<Paragraph>{item.contentSnippet}</Paragraph>\r\n\t\t\t\t\t\t\t\t\t</NewsItemText>\r\n\t\t\t\t\t\t\t\t</NewsItem>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t))\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<p>loading....</p>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</NewsContainer>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default News;\r\n"],"sourceRoot":""}