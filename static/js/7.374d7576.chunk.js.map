{"version":3,"sources":["components/news/News.js"],"names":["parser","require","NewsContainer","styled","div","NewsItem","Link","a","ImageContainer","Image","img","Heading","h3","NewsItemText","Paragraph","p","News","props","componentDidMount","RSS_FEED","parseURL","state","url","feed","setState","items","handleKey","e","keyCode","which","value","handleChange","target","this","type","onKeyUp","onChange","map","item","i","href","link","key","string","str","rex","exec","push","src","getImage","content","title","contentSnippet","React","Component"],"mappings":"83CAGA,IACIA,EAAS,IADAC,EAAQ,MAGfC,EAAgBC,IAAOC,IAAV,KAMbC,EAAWF,IAAOC,IAAV,KAORE,EAAOH,IAAOI,EAAV,KAIJC,EAAiBL,IAAOC,IAAV,KAMdK,EAAQN,IAAOO,IAAV,KASLC,EAAUR,IAAOS,GAAV,KAOPC,EAAeV,IAAOC,IAAV,KAMZU,EAAYX,IAAOY,EAAV,KAQTC,E,kDACL,WAAYC,GAAQ,IAAD,8BAClB,cAAMA,IAQPC,kBAAoB,WACjB,EAAKC,YAVW,EAanBA,SAbmB,sBAaR,4BAAAZ,EAAA,4DACS,uCADT,SAGOP,EAAOoB,SAFL,uCAE2B,EAAKC,MAAMC,KAH/C,OAGNC,EAHM,OAKV,EAAKC,SAAS,CACbC,MAAOF,EAAKE,QANH,2CAbQ,EAuBnBC,UAAY,SAACC,GAEI,MADAA,EAAEC,SAAWD,EAAEE,QAE9B,EAAKL,UACJ,kBAAgB,CACVC,MAAO,GACZH,IAFD,EAAGQ,UAIH,WACM,EAAKX,eAhCK,EAsCnBY,aAAe,SAACJ,GACf,EAAKH,SAAS,CAAEM,MAAOH,EAAEK,OAAOF,SArChC,EAAKT,MAAQ,CACZI,MAAO,GACPH,IAAK,uCACLQ,MAAO,IALU,E,qDA0CT,IACDL,EAAUQ,KAAKZ,MAAfI,MAqBR,OACC,oCACC,2BACCS,KAAK,OACLJ,MAAOG,KAAKZ,MAAMS,MAClBK,QAASF,KAAKP,UACdU,SAAUH,KAAKF,eAEhB,kBAAC7B,EAAD,KACEuB,IAAU,GACVA,EAAMY,KAAI,SAACC,EAAMC,GAAP,OACT,kBAACjC,EAAD,CAAMkC,KAAMF,EAAKG,KAAMC,IAAKJ,EAAOC,GAClC,kBAAClC,EAAD,KA/BY,SAACsC,GAMlB,IALA,IACCrB,EAAM,GACNsB,EAAMD,EACNE,EAAM,oCAHC,KAKMA,EAAIC,KAAKF,IAClB,OACEtB,EAAIyB,KAPH,GAOU,IAIlB,OAAOzB,IAAQ,GACd,kBAACd,EAAD,KACC,kBAACC,EAAD,CAAOuC,IAAK1B,KAEV,KAgBG2B,CAASX,EAAKY,SACf,kBAACrC,EAAD,KACC,kBAACF,EAAD,KAAU2B,EAAKa,OACf,kBAACrC,EAAD,KAAYwB,EAAKc,sBAMrB,gD,GAvFaC,IAAMC,WA+FVtC","file":"static/js/7.374d7576.chunk.js","sourcesContent":["import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nlet Parser = require(\"rss-parser\");\r\nlet parser = new Parser();\r\n\r\nconst NewsContainer = styled.div`\r\noverflow-y: auto;\r\noverflow-x: hidden;\r\nheight: 100%;\r\n`;\r\n\r\nconst NewsItem = styled.div`\r\nposition: relative;\r\ndisplay: flex;\r\nflex-flow: row nowrap;\r\nmargin: 10px 0;\r\n`;\r\n\r\nconst Link = styled.a`\r\nheight: 100%;\r\n`;\r\n\r\nconst ImageContainer = styled.div`\r\nheight: auto;\r\nwidth: 20%;\r\nposition: relative;\r\n`;\r\n\r\nconst Image = styled.img`\r\nposition: absolute;\r\nheight: 100%;\r\nobject-fit: cover;\r\nwidth: 100%;\r\ntop: 0;\r\nleft: 0%;\r\n`;\r\n\r\nconst Heading = styled.h3`\r\nfont-size: 1rem;\r\nfont-weight: bold;\r\nmax-height: 35px;\r\nmargin-bottom: 3px;\r\n`;\r\n\r\nconst NewsItemText = styled.div`\r\nposition: relative;\r\npadding: 10px;\r\nwidth: 80%;\r\n`;\r\n\r\nconst Paragraph = styled.p`\r\nfont-size: 0.8rem;\r\noverflow: hidden;\r\ndisplay: -webkit-box;\r\n-webkit-line-clamp: 2;\r\n-webkit-box-orient: vertical;\r\n`;\r\n\r\nclass News extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\titems: [],\r\n\t\t\turl: \"http://feeds.bbci.co.uk/news/rss.xml\",\r\n\t\t\tvalue: \"\",\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount = () => {\r\n    this.RSS_FEED();\r\n\t};\r\n\r\n\tRSS_FEED = async () => {\r\n\t\tconst CORS_PROXY = \"https://cors-anywhere.herokuapp.com/\";\r\n\r\n\t\tlet feed = await parser.parseURL(CORS_PROXY + this.state.url);\r\n\r\n\t\tthis.setState({\r\n\t\t\titems: feed.items,\r\n\t\t});\r\n\t};\r\n\r\n\thandleKey = (e) => {\r\n\t\tconst keyCode = e.keyCode || e.which;\r\n\t\tif (keyCode === 13) {\r\n\t\t\tthis.setState(\r\n\t\t\t\t({ value }) => ({\r\n          items: [],\r\n\t\t\t\t\turl: value,\r\n\t\t\t\t}),\r\n\t\t\t\t() => {\r\n          this.RSS_FEED();\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\thandleChange = (e) => {\r\n\t\tthis.setState({ value: e.target.value });\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { items } = this.state;\r\n\r\n\t  const\tgetImage = (string) => {\r\n\t\t\tvar m = \"\",\r\n\t\t\t\turl = [],\r\n\t\t\t\tstr = string,\r\n\t\t\t\trex = /<img[^>]+src=\"?([^\"\\s]+)\"?\\s*\\/>/g;\r\n\r\n\t\t\twhile ((m === rex.exec(str))) {\r\n        return (\r\n          url.push(m[1])\r\n        ) \r\n\t\t\t}\r\n\r\n\t\t\treturn url !== [] ? (\r\n\t\t\t\t<ImageContainer>\r\n\t\t\t\t\t<Image src={url} />\r\n\t\t\t\t</ImageContainer>\r\n\t\t\t) : null;\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tvalue={this.state.value}\r\n\t\t\t\t\tonKeyUp={this.handleKey}\r\n\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t/>\r\n\t\t\t\t<NewsContainer>\r\n\t\t\t\t\t{items !== [] ? (\r\n\t\t\t\t\t\titems.map((item, i) => (\r\n\t\t\t\t\t\t\t<Link href={item.link} key={item + i}>\r\n\t\t\t\t\t\t\t\t<NewsItem>\r\n\t\t\t\t\t\t\t\t\t{getImage(item.content)}\r\n\t\t\t\t\t\t\t\t\t<NewsItemText>\r\n\t\t\t\t\t\t\t\t\t\t<Heading>{item.title}</Heading>\r\n\t\t\t\t\t\t\t\t\t\t<Paragraph>{item.contentSnippet}</Paragraph>\r\n\t\t\t\t\t\t\t\t\t</NewsItemText>\r\n\t\t\t\t\t\t\t\t</NewsItem>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t))\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<p>loading....</p>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</NewsContainer>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default News;\r\n"],"sourceRoot":""}